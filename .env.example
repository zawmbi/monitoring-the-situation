# ===========================================
# NEWS AGGREGATOR - ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# ---------------------------------------------
# ENVIRONMENT
# ---------------------------------------------
NODE_ENV=development

# Override backend port (avoids conflict with Docker on 4000)
PORT=4100

# ---------------------------------------------
# PORTS
# ---------------------------------------------
BACKEND_PORT=4100
FRONTEND_PORT=3001
REDIS_PORT=6379
POSTGRES_PORT=5432
REDIS_COMMANDER_PORT=8081

# ---------------------------------------------
# FRONTEND (Vite)
# ---------------------------------------------
# In dev, leave VITE_API_URL empty — Vite proxy forwards /api/* to the backend.
# Only set these for production builds where no proxy is available.
# VITE_API_URL=http://localhost:4100
# VITE_WS_URL=ws://localhost:4100/ws
# VITE_STOCKS_API_URL=http://localhost:4100/api/stocks

# ---------------------------------------------
# DATABASE
# ---------------------------------------------
POSTGRES_USER=newsuser
POSTGRES_PASSWORD=newspass
POSTGRES_DB=newsdb

# ---------------------------------------------
# NEWS API KEYS
# ---------------------------------------------
# NewsAPI.org - https://newsapi.org/register
# Free: 100 requests/day, paid plans available
NEWS_API_KEY=

# GNews - https://gnews.io/ (alternative to NewsAPI)
# Free: 100 requests/day
GNEWS_API_KEY=

# ---------------------------------------------
# STOCKS API (Alpha Vantage)
# ---------------------------------------------
# Free tier: 5 requests/minute, 500/day
ALPHA_VANTAGE_API_KEY=

# ---------------------------------------------
# FINANCIAL MODELING PREP (FMP) API
# ---------------------------------------------
# https://financialmodelingprep.com/developer/docs/
# Free tier: 250 requests/day
# Used for: currency exchange, country stocks, financial news
VITE_FMP_API_KEY=

# ---------------------------------------------
# TWITTER/X API
# ---------------------------------------------
# Get from: https://developer.twitter.com/en/portal/dashboard
# Requires Basic ($100/mo) or higher for full access
# Free tier: Limited read access
TWITTER_ENABLED=true
TWITTER_BEARER_TOKEN=
TWITTER_API_KEY=
TWITTER_API_SECRET=
# Optional: path to local JSON feed for tweets when no bearer token
TWITTER_CUSTOM_FEED_PATH=../data/twitter-feed.json

# ---------------------------------------------
# REDDIT API (Optional)
# ---------------------------------------------
# Create app at: https://reddit.com/prefs/apps
# Free with rate limits
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USER_AGENT=NewsAggregator/1.0

# ---------------------------------------------
# POLLING INTERVALS (seconds)
# ---------------------------------------------
# How often to fetch new content from each source
NEWS_POLL_INTERVAL=300      # 5 minutes
SOCIAL_POLL_INTERVAL=60     # 1 minute
FEED_POLL_INTERVAL=600      # 10 minutes

# ---------------------------------------------
# CACHE TTL (seconds)
# ---------------------------------------------
CACHE_NEWS_TTL=300          # 5 minutes
CACHE_TWEETS_TTL=60         # 1 minute
CACHE_FEEDS_TTL=600         # 10 minutes

# ---------------------------------------------
# OPTIONAL: RSS FEEDS TO MONITOR
# ---------------------------------------------
# Comma-separated list of RSS feed URLs
RSS_FEEDS=https://rss.nytimes.com/services/xml/rss/nyt/HomePage.xml,https://feeds.bbci.co.uk/news/rss.xml,https://feeds.washingtonpost.com/rss/national,https://www.chicagotribune.com/arcio/rss/category/news/,https://rss.politico.com/politics-news.xml,https://www.aljazeera.com/xml/rss/all.xml,https://feeds.foxnews.com/foxnews/latest,https://rss.cnn.com/rss/edition.rss,https://feeds.skynews.com/feeds/rss/world.xml,https://feeds.reuters.com/reuters/topNews,https://www.theguardian.com/world/rss,https://www.france24.com/en/rss,https://feeds.apnews.com/apf-topnews,https://feeds.a.dj.com/rss/RSSWorldNews.xml

# ---------------------------------------------
# OPTIONAL: TWITTER ACCOUNTS TO FOLLOW
# ---------------------------------------------
# Comma-separated list of Twitter usernames (without @)
TWITTER_ACCOUNTS=Reuters,AP,BBCBreaking,cnnbrk,nytimes,WSJ,TheEconomist,AlJazeeraEng,HBR,FoxNews,nytimesworld

# ---------------------------------------------
# OPTIONAL: SUBREDDITS TO MONITOR
# ---------------------------------------------
# Comma-separated list
REDDIT_SUBREDDITS=news,worldnews,technology

# ---------------------------------------------
# FIREBASE (Client SDK — these are NOT secrets)
# ---------------------------------------------
# Get from: Firebase Console > Project Settings > General > Your apps
VITE_FIREBASE_API_KEY=
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=
VITE_FIREBASE_APP_ID=

# Set to 'true' to use Firebase emulators in development
VITE_USE_FIREBASE_EMULATORS=false

# ---------------------------------------------
# STRIPE (Server-side — NEVER expose to frontend)
# ---------------------------------------------
# Get from: https://dashboard.stripe.com/apikeys
# SECURITY: These are stored as Firebase secrets, not in .env for production.
# Only used locally for development/testing.
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe price ID for the Pro subscription plan
# Get from: Stripe Dashboard > Products > Price ID
VITE_STRIPE_PRICE_ID=price_...

# Allowed origins for Stripe redirect validation (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000

# ---------------------------------------------
# PRODUCTION OVERRIDES
# ---------------------------------------------
# REDIS_URL=redis://your-production-redis:6379
# DATABASE_URL=postgres://user:pass@your-production-db:5432/newsdb
